<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.project.bookjuck.cart.CartMapper">

<!--    회원 별 장바구니 내역 가져오는 리스트 -->
    <select id="selItemCart" resultType="com.project.bookjuck.cart.model.CartInfo.CartEntity">
        SELECT A.itemId, A.iuser, A.itemQty, B.title, B.priceStandard
        FROM t_cart AS A
             LEFT JOIN t_book_api AS B ON A.itemId = B.itemId
        WHERE iuser = ${iuser}
    </select>

<!--     장바구니 추가 쿼리-->
    <insert id="insItemCart">
        INSERT INTO t_cart
            (itemID, iuser, itemQty)
        VALUES
            (${itemId},${iuser},${itemQty});
    </insert>

<!--     장바구니에 존재하는 품목 장바구니 담기시 수량 변경, 장바구니에서 수량 수정시  쿼리 -->
<!--    <update id="updItemCart" resultType="com.project.bookjuck.cart.model.CartInfo.CartEntity">-->
<!--        UPDATE t_cart-->
<!--        SET itemQty = #{itemQty}-->
<!--        WHERE itemId = #{itemId} AND iuser = ${iuser}-->
<!--    </update>-->

<!--     장바구니 내역 삭제 쿼리 -->
<!--    <delete id="delItemCart" resultType="com.project.bookjuck.cart.model.CartInfo.CartEntity">-->
<!--        delete FROM t_cart-->
<!--        WHERE itemId = #{itemId} AND iuser = ${iuser}-->
<!--    </delete>-->
</mapper>